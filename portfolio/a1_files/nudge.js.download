!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const o=e=>"rp_storage_session_"+e,r=function(){try{return window.localStorage.setItem("__test__","__test__"),window.localStorage.removeItem("__test__"),!0}catch(e){return!1}}(),a={set:function(e,t){return r?window.sessionStorage.setItem(e,JSON.stringify(t)):window[o(e)]=JSON.stringify(t),t},get:function(e){try{return r?JSON.parse(window.sessionStorage.getItem(e)):JSON.parse(window[o(e)])}catch(e){return}},remove:function(e){if(r)return window.sessionStorage.removeItem(e);delete window[o(e)]}},s=!0;let i,u;function d(e){const t=document.querySelector(".chatprompt"),n=document.querySelector(".respageChatNudge");function o(e,t){t&&t.delay?function(e,t,n){clearTimeout(i),i=setTimeout(()=>r(t,n),e)}(t.delay,e,t):r(e,t)}function r(t,n){clearTimeout(i);let o=document.querySelector(".respageChatNudgeWrapper"),r=document.querySelector(".respageChatNudgeMessage"),s=document.querySelector(".chatprompt");if(!o||!r)return;s.removeEventListener("click",u),s.removeEventListener("keyup",u);let c=a.get(e+"~resbot_isOpen")||!1;"close"!==t?("open"!==t||c||(o.classList.add("nudgeOpen"),function(){let t=+a.get(e+"~resbot_nudgeCount")||0;(function(t){a.set(e+"~resbot_nudgeCount",t)})(++t)}()),n&&(r.innerText=n.message.phrase,n.message.intent&&(u=d.bind(null,n.message.intent),s.addEventListener("click",u),s.addEventListener("keyup",u)))):o.classList.remove("nudgeOpen")}function d(e,t){"keyup"===t.type&&"Enter"!==t.code&&"Space"!==t.code||((e,t="*",n="respagebot")=>{const o=document.getElementById(n);o?o.contentWindow.postMessage(e,t):console.log("[IFrame postMessage] could not find iFrame of id: "+n)})({event:"resbotSendMessage",message:e,doNotTrack:!0})}if(t&&e&&!n){let e=document.createElement("div");e.className="respageChatNudgeWrapper";let n=document.createElement("div");n.className="respageChatNudge";let a=document.createElement("div");a.className="respageChatNudgeMessage",a.setAttribute("aria-live","polite"),a.setAttribute("aria-label","Chatbot Nudge Message"),a.setAttribute("tabindex",String(0));let i=document.createElement("div");i.className="respageChatNudgeClose",i.innerHTML="&#10005;",i.setAttribute("aria-label","Chatbot Nudge Close"),i.setAttribute("role","button"),i.setAttribute("tabindex",String(0)),i.addEventListener("click",e=>{e.stopPropagation(),e.preventDefault(),r("close")}),i.addEventListener("keyup",e=>{"Enter"!==e.code&&"Space"!==e.code||(e.stopPropagation(),e.preventDefault(),r("close"))}),n.appendChild(i),n.appendChild(a),e.appendChild(n),t.insertBefore(e,t.firstChild),window.addEventListener("message",e=>{if(s&&console.log("[RESBOT] event",e),e.data&&e.data.event){const t=e.data.event;"resbotPopupOpen"===t?o("open",e.data.detail):"resbotPopupClose"===t&&o("close",e.data.detail)}})}}window.initNudge=function(e){setTimeout(()=>{d(e)},5e3)}}]);